# <p align = 'center'>Customer Lifetime Value Prediction and Segmentation for Online Retail Business</p>
 
## PROJECT OVERVIEW

Following the problem and motivation described above, the purpose of this study is formulated. The study aims at investigating possible methods with context to the non-contractual-continuous business for estimation of potential revenue (CLV) generated by a certain group of active customers. To perform this estimation, the probabilistic models (Pareto-NBD, BG-NBD, MBG-NBD & Gamma Gamma) has been applied to the case study in the industry. Customer segmentation by means of unsupervised machine learning was also performed in order to show an efficient tool for strategy planning.

We have to predict the customer's lifetime value and segment the customers based on their LTV so that we can provide this information to the marketing team for the campaign & CPA optimization.

CLV or LTV is a metric that helps you measure the customer's lifetime value to a business.

## DATA DESCRIPTION

This Online Retail II data set contains all the transactions occurring for a UK-based and registered, non-store online retail between 01/12/2009 and 09/12/2011.

The dataset which we are going to use in this problem has taken from the UCI Machine Learning Repository. This is a transactional data set which contains all the actual transactions for a UK-based and registered ecommerce online retail store. The company mainly sells unique all-occasion gifts. This dataset has several features which includes the Invoice Number, Stock Code, Product Description, Product Quantity, Invoice Date, Unit Price, Customer ID, etc.

Dataset link - https://archive.ics.uci.edu/ml/datasets/Online+Retail+II

1. InvoiceNo: Invoice number. Nominal. A 6-digit integral number uniquely assigned to each transaction. If this code starts with the letter 'c', it indicates a cancellation.
2. StockCode: Product (item) code. Nominal. A 5-digit integral number uniquely assigned to each distinct product.
3. Description: Product (item) name. Nominal.
4. Quantity: The quantities of each product (item) per transaction. Numeric.
5. InvoiceDate: Invice date and time. Numeric. The day and time when a transaction was generated.
6. UnitPrice: Unit price. Numeric. Product price per unit in sterling (Â£).
7. CustomerID: Customer number. Nominal. A 5-digit integral number uniquely assigned to each customer.
8. Country: Country name. Nominal. The name of the country where a customer resides.

## METHODOLOGY
1. Data Importing
2. Data Cleaning
3. Exploratory Data Analysis
4. Feature Engineering/Extraction
5. Different Predictive Models Building
6. LTV Based Customer Segmentation
7. Model Evaluation and Cross Validation
8. Model Deployment


### LIBRARIES USED

1. Scikit Learn, Numpy, Pandas, Datetime, Math, Warnings
2. Lifetimes
3. Plotly, Matplotlib, Seaborn, Altair
4. Streamlit
5. Pickle
6. Streamlit, Heruko (Model Deployment)

## RESULTS
Here, we will focus on a few customer segments. Based on their profile we can try to give a name to each group.

1. “High-value average customer”: the biggest segment has 2.501 (42.09% of the total). It contains customers that belong in cluster 1 of items category segmentation and cluster 4 of RFM-country based segmentation. This means that the customers in this segment shop from the general item’s category (i.e. they are not focused on bags, decoration, or Christmas items) and have relatively high RFM score.
2. “High-value Christmas shopper”: segment in item category cluster 0 and RFM-Country cluster 4. In our item category clustering, we have identified that cluster 0 corresponds to customers that have a tendency to buy more Christmas items. This segment contains 289 (4.86%) customers.
3. “High-value decoration lovers”: segment in item category cluster 2 and RFM-Country cluster 4. In our item category clustering, we have identified that cluster 2 corresponds to customers that have a preference for bags. This segment contains 489 (8.23%) customers.
4. “Low-value decoration lovers”: segment in item category cluster 2 and RFM-Country cluster 1. This segment contains 69 (1.16%) customers. We could add to this segment customers in item category cluster 2 and RFM-Country cluster 2. This way the segment would contain 305 (5.13%) customers.
5. “High-value bag lovers”: segment in item category cluster 3 and RFM-Country cluster 4. In our item category clustering, we have identified that cluster 2 corresponds to customers that have a preference in decoration. This segment contains 270 (4.54%) customers.
6. “Low-value bag lovers”: segment in item category cluster 3 and RFM-Country cluster 1. This segment contains 42 (0.71%) customers. We could assign to this segment and customers in item category cluster 1 and RFM-Country cluster 2. This way the segment would contain 132 (2.22%) customers.


## CONCLUSION

 In a real-world scenario, a more detailed description of each segment would be provided. For every segment, we would have calculated several KPIs like:

1. total cost per segment,
2. average cost per customer
3. average cost per customer per transaction/invoice
4. number of transactions/invoices per customer
5. average frequency per customer
6. country distribution per customer

https://towardsdatascience.com/customer-segmentation-part-ii-1c94bdc03de5